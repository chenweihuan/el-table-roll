(function(t){function e(e){for(var s,n,o=e[0],i=e[1],h=e[2],u=0,d=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);p&&p(e);while(d.length)d.shift()();return l.push.apply(l,h||[]),a()}function a(){for(var t,e=0;e<l.length;e++){for(var a=l[e],s=!0,o=1;o<a.length;o++){var i=a[o];0!==r[i]&&(s=!1)}s&&(l.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},r={app:0},l=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=e,o=o.slice();for(var h=0;h<o.length;h++)e(o[h]);var p=i;l.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0428":function(t,e,a){"use strict";a("8a71")},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),r=a("5c96"),l=a.n(r),n=(a("0fae"),function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Roll1"),e("Roll2")],1)}),o=[],i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"min-height":"340px!important",width:"600px"}},[e("el-button",{on:{click:t.changeData}},[t._v("修改数据")]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""},nativeOn:{mouseenter:function(e){return t.mouseenter.apply(null,arguments)},mouseleave:function(e){return t.mouseleave.apply(null,arguments)}}},[e("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"}}),e("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),e("el-table-column",{attrs:{prop:"address",label:"地址"}})],1)],1)},h=[],p=a("ade3");const u=Symbol("init"),d=Symbol("roll"),c=t=>new Promise(e=>setTimeout(e,t));class m{constructor(t={}){Object(p["a"])(this,"_translateY",0),Object(p["a"])(this,"_rowHeight",0),Object(p["a"])(this,"_index",1),Object(p["a"])(this,"_data",[]),Object(p["a"])(this,"_pause",!1),Object(p["a"])(this,"interval",2e3),Object(p["a"])(this,"duration",1e3),Object(p["a"])(this,"delay",0),Object(p["a"])(this,"bodyClass",".el-table__body"),Object(p["a"])(this,"rowClass",".el-table__row"),Object(p["a"])(this,"tableWrapperClass",".el-table__body-wrapper"),Object(p["a"])(this,"maxRow",5),Object(p["a"])(this,"componentWrapperEl",window.document),this[u](t)}[u]({...t}){Object.keys(t).forEach(e=>{void 0!==this[e]&&(this[e]=t[e])}),this.duration>=this.interval&&(console.error("duration must less than interval:",{duration:this.duration,interval:this.interval}),this.duration=this.interval-10)}[d](){const t=this.componentWrapperEl.querySelector(this.bodyClass);this._data.length-this.maxRow<this._index?(this._translateY=0,this._index=1):(this._translateY=this._index*this._rowHeight,this._index++),t.style.transform=`translate3d(0, ${-this._translateY}px, 0)`}_updateTableCss(){const t=this.componentWrapperEl.querySelector(this.rowClass);if(!t)return;this._rowHeight=t.offsetHeight;const e=this.componentWrapperEl.querySelector(this.bodyClass);e.style.transition=`transform ${this.duration/1e3}s ease-in-out`;const a=this.componentWrapperEl.querySelector(this.tableWrapperClass);a.style.maxHeight=this.maxRow*this._rowHeight+"px",this.componentWrapperEl.style.backfaceVisibility="hidden",this.componentWrapperEl.style.perspective="1000px",this.componentWrapperEl.style.transform="translateZ(0)"}async _start(){await c(this.delay),this._updateTableCss(),this._play()}_play(){this._data.length<=this.maxRow||this._pause||(this.timer=setTimeout(()=>{console.log(1),this[d](),this._play()},this.interval))}_resetVar(){this._resetCss(),this._data=[],this._index=1,this._translateY=0,this._pause=!1,this._rowHeight=0}_resetCss(){const t=this.componentWrapperEl.querySelector(this.bodyClass);t.style.transition="none",t.style.transform="translate3d(0, 0, 0)"}pause(){this.timer&&(this._pause=!0,clearTimeout(this.timer),this.timer=null)}goOn(){this._pause=!1,this._play()}dispose(){this.pause()}setData(t){if(Array.isArray(t)){if(!(this.componentWrapperEl instanceof Element))return void console.error("componentWrapperEl must be Element:",{componentWrapperEl:this.componentWrapperEl});this.pause(),this._resetVar(),this._data=t,this._start()}else console.error("data type must be array:"+t)}}var b=m,f={data(){return{tableData:[],sourceData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄1"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄2"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄3"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄4"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄5"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄6"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄7"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄8"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄9"}]}},mounted(){this.tableData=this.sourceData,this.roll=new b({interval:4e3,duration:2e3,maxRow:4}),this.roll.componentWrapperEl=this.$el,this.roll.setData(this.tableData)},beforeDestroy(){this.roll&&this.roll.dispose()},methods:{mouseenter(){this.roll&&this.roll.pause()},mouseleave(){this.roll&&this.roll.goOn()},changeData(){let t=Math.ceil(Math.random()*this.sourceData.length);console.log("数据总条数: "+t),this.tableData=this.sourceData.slice(0,t),this.roll.setData(this.tableData)}}},y=f,_=a("2877"),v=Object(_["a"])(y,i,h,!1,null,null,null),w=v.exports,g=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"600px","margin-left":"20px"}},[e("el-button",{on:{click:t.changeData}},[t._v("修改数据")]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""},nativeOn:{mouseenter:function(e){return t.mouseenter.apply(null,arguments)},mouseleave:function(e){return t.mouseleave.apply(null,arguments)}}},[e("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"}}),e("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),e("el-table-column",{attrs:{prop:"address",label:"地址"}})],1)],1)},O=[],D={data(){return{tableData:[],sourceData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄1"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄2"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄3"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄4"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄5"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄6"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄7"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄8"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄9"}]}},mounted(){this.tableData=this.sourceData,this.roll=new b,this.roll.componentWrapperEl=this.$el,this.roll.setData(this.tableData)},beforeDestroy(){this.roll&&this.roll.dispose()},methods:{mouseenter(){this.roll&&this.roll.pause()},mouseleave(){this.roll&&this.roll.goOn()},changeData(){let t=Math.ceil(Math.random()*this.sourceData.length);console.log("数据总条数: "+t),this.tableData=this.sourceData.slice(0,t),this.roll.setData(this.tableData)}}},x=D,j=Object(_["a"])(x,g,O,!1,null,null,null),E=j.exports,W={name:"App",components:{Roll1:w,Roll2:E}},S=W,C=(a("0428"),Object(_["a"])(S,n,o,!1,null,null,null)),R=C.exports;s["default"].use(l.a),s["default"].config.productionTip=!1,new s["default"]({render:t=>t(R)}).$mount("#app")},"8a71":function(t,e,a){}});
//# sourceMappingURL=app.8a5ee39f.js.map